<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>CodeBuild</title><style>
/* cspell:disable-file */
/* webkit printing magic: print all background colors */
html {
	-webkit-print-color-adjust: exact;
}
* {
	box-sizing: border-box;
	-webkit-print-color-adjust: exact;
}

html,
body {
	margin: 0;
	padding: 0;
}
@media only screen {
	body {
		margin: 2em auto;
		max-width: 900px;
		color: rgb(55, 53, 47);
	}
}

body {
	line-height: 1.5;
	white-space: pre-wrap;
}

a,
a.visited {
	color: inherit;
	text-decoration: underline;
}

.pdf-relative-link-path {
	font-size: 80%;
	color: #444;
}

h1,
h2,
h3 {
	letter-spacing: -0.01em;
	line-height: 1.2;
	font-weight: 600;
	margin-bottom: 0;
}

.page-title {
	font-size: 2.5rem;
	font-weight: 700;
	margin-top: 0;
	margin-bottom: 0.75em;
}

h1 {
	font-size: 1.875rem;
	margin-top: 1.875rem;
}

h2 {
	font-size: 1.5rem;
	margin-top: 1.5rem;
}

h3 {
	font-size: 1.25rem;
	margin-top: 1.25rem;
}

.source {
	border: 1px solid #ddd;
	border-radius: 3px;
	padding: 1.5em;
	word-break: break-all;
}

.callout {
	border-radius: 3px;
	padding: 1rem;
}

figure {
	margin: 1.25em 0;
	page-break-inside: avoid;
}

figcaption {
	opacity: 0.5;
	font-size: 85%;
	margin-top: 0.5em;
}

mark {
	background-color: transparent;
}

.indented {
	padding-left: 1.5em;
}

hr {
	background: transparent;
	display: block;
	width: 100%;
	height: 1px;
	visibility: visible;
	border: none;
	border-bottom: 1px solid rgba(55, 53, 47, 0.09);
}

img {
	max-width: 100%;
}

@media only print {
	img {
		max-height: 100vh;
		object-fit: contain;
	}
}

@page {
	margin: 1in;
}

.collection-content {
	font-size: 0.875rem;
}

.column-list {
	display: flex;
	justify-content: space-between;
}

.column {
	padding: 0 1em;
}

.column:first-child {
	padding-left: 0;
}

.column:last-child {
	padding-right: 0;
}

.table_of_contents-item {
	display: block;
	font-size: 0.875rem;
	line-height: 1.3;
	padding: 0.125rem;
}

.table_of_contents-indent-1 {
	margin-left: 1.5rem;
}

.table_of_contents-indent-2 {
	margin-left: 3rem;
}

.table_of_contents-indent-3 {
	margin-left: 4.5rem;
}

.table_of_contents-link {
	text-decoration: none;
	opacity: 0.7;
	border-bottom: 1px solid rgba(55, 53, 47, 0.18);
}

table,
th,
td {
	border: 1px solid rgba(55, 53, 47, 0.09);
	border-collapse: collapse;
}

table {
	border-left: none;
	border-right: none;
}

th,
td {
	font-weight: normal;
	padding: 0.25em 0.5em;
	line-height: 1.5;
	min-height: 1.5em;
	text-align: left;
}

th {
	color: rgba(55, 53, 47, 0.6);
}

ol,
ul {
	margin: 0;
	margin-block-start: 0.6em;
	margin-block-end: 0.6em;
}

li > ol:first-child,
li > ul:first-child {
	margin-block-start: 0.6em;
}

ul > li {
	list-style: disc;
}

ul.to-do-list {
	padding-inline-start: 0;
}

ul.to-do-list > li {
	list-style: none;
}

.to-do-children-checked {
	text-decoration: line-through;
	opacity: 0.375;
}

ul.toggle > li {
	list-style: none;
}

ul {
	padding-inline-start: 1.7em;
}

ul > li {
	padding-left: 0.1em;
}

ol {
	padding-inline-start: 1.6em;
}

ol > li {
	padding-left: 0.2em;
}

.mono ol {
	padding-inline-start: 2em;
}

.mono ol > li {
	text-indent: -0.4em;
}

.toggle {
	padding-inline-start: 0em;
	list-style-type: none;
}

/* Indent toggle children */
.toggle > li > details {
	padding-left: 1.7em;
}

.toggle > li > details > summary {
	margin-left: -1.1em;
}

.selected-value {
	display: inline-block;
	padding: 0 0.5em;
	background: rgba(206, 205, 202, 0.5);
	border-radius: 3px;
	margin-right: 0.5em;
	margin-top: 0.3em;
	margin-bottom: 0.3em;
	white-space: nowrap;
}

.collection-title {
	display: inline-block;
	margin-right: 1em;
}

.page-description {
    margin-bottom: 2em;
}

.simple-table {
	margin-top: 1em;
	font-size: 0.875rem;
	empty-cells: show;
}
.simple-table td {
	height: 29px;
	min-width: 120px;
}

.simple-table th {
	height: 29px;
	min-width: 120px;
}

.simple-table-header-color {
	background: rgb(247, 246, 243);
	color: black;
}
.simple-table-header {
	font-weight: 500;
}

time {
	opacity: 0.5;
}

.icon {
	display: inline-block;
	max-width: 1.2em;
	max-height: 1.2em;
	text-decoration: none;
	vertical-align: text-bottom;
	margin-right: 0.5em;
}

img.icon {
	border-radius: 3px;
}

.user-icon {
	width: 1.5em;
	height: 1.5em;
	border-radius: 100%;
	margin-right: 0.5rem;
}

.user-icon-inner {
	font-size: 0.8em;
}

.text-icon {
	border: 1px solid #000;
	text-align: center;
}

.page-cover-image {
	display: block;
	object-fit: cover;
	width: 100%;
	max-height: 30vh;
}

.page-header-icon {
	font-size: 3rem;
	margin-bottom: 1rem;
}

.page-header-icon-with-cover {
	margin-top: -0.72em;
	margin-left: 0.07em;
}

.page-header-icon img {
	border-radius: 3px;
}

.link-to-page {
	margin: 1em 0;
	padding: 0;
	border: none;
	font-weight: 500;
}

p > .user {
	opacity: 0.5;
}

td > .user,
td > time {
	white-space: nowrap;
}

input[type="checkbox"] {
	transform: scale(1.5);
	margin-right: 0.6em;
	vertical-align: middle;
}

p {
	margin-top: 0.5em;
	margin-bottom: 0.5em;
}

.image {
	border: none;
	margin: 1.5em 0;
	padding: 0;
	border-radius: 0;
	text-align: center;
}

.code,
code {
	background: rgba(135, 131, 120, 0.15);
	border-radius: 3px;
	padding: 0.2em 0.4em;
	border-radius: 3px;
	font-size: 85%;
	tab-size: 2;
}

code {
	color: #eb5757;
}

.code {
	padding: 1.5em 1em;
}

.code-wrap {
	white-space: pre-wrap;
	word-break: break-all;
}

.code > code {
	background: none;
	padding: 0;
	font-size: 100%;
	color: inherit;
}

blockquote {
	font-size: 1.25em;
	margin: 1em 0;
	padding-left: 1em;
	border-left: 3px solid rgb(55, 53, 47);
}

.bookmark {
	text-decoration: none;
	max-height: 8em;
	padding: 0;
	display: flex;
	width: 100%;
	align-items: stretch;
}

.bookmark-title {
	font-size: 0.85em;
	overflow: hidden;
	text-overflow: ellipsis;
	height: 1.75em;
	white-space: nowrap;
}

.bookmark-text {
	display: flex;
	flex-direction: column;
}

.bookmark-info {
	flex: 4 1 180px;
	padding: 12px 14px 14px;
	display: flex;
	flex-direction: column;
	justify-content: space-between;
}

.bookmark-image {
	width: 33%;
	flex: 1 1 180px;
	display: block;
	position: relative;
	object-fit: cover;
	border-radius: 1px;
}

.bookmark-description {
	color: rgba(55, 53, 47, 0.6);
	font-size: 0.75em;
	overflow: hidden;
	max-height: 4.5em;
	word-break: break-word;
}

.bookmark-href {
	font-size: 0.75em;
	margin-top: 0.25em;
}

.sans { font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; }
.code { font-family: "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; }
.serif { font-family: Lyon-Text, Georgia, ui-serif, serif; }
.mono { font-family: iawriter-mono, Nitti, Menlo, Courier, monospace; }
.pdf .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK JP'; }
.pdf:lang(zh-CN) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK SC'; }
.pdf:lang(zh-TW) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK TC'; }
.pdf:lang(ko-KR) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK KR'; }
.pdf .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.pdf .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK JP'; }
.pdf:lang(zh-CN) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK SC'; }
.pdf:lang(zh-TW) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK TC'; }
.pdf:lang(ko-KR) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK KR'; }
.pdf .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.highlight-default {
	color: rgba(55, 53, 47, 1);
}
.highlight-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.highlight-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.highlight-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.highlight-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.highlight-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.highlight-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.highlight-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.highlight-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.highlight-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.highlight-gray_background {
	background: rgba(241, 241, 239, 1);
}
.highlight-brown_background {
	background: rgba(244, 238, 238, 1);
}
.highlight-orange_background {
	background: rgba(251, 236, 221, 1);
}
.highlight-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.highlight-teal_background {
	background: rgba(237, 243, 236, 1);
}
.highlight-blue_background {
	background: rgba(231, 243, 248, 1);
}
.highlight-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.highlight-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.highlight-red_background {
	background: rgba(253, 235, 236, 1);
}
.block-color-default {
	color: inherit;
	fill: inherit;
}
.block-color-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.block-color-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.block-color-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.block-color-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.block-color-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.block-color-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.block-color-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.block-color-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.block-color-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.block-color-gray_background {
	background: rgba(241, 241, 239, 1);
}
.block-color-brown_background {
	background: rgba(244, 238, 238, 1);
}
.block-color-orange_background {
	background: rgba(251, 236, 221, 1);
}
.block-color-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.block-color-teal_background {
	background: rgba(237, 243, 236, 1);
}
.block-color-blue_background {
	background: rgba(231, 243, 248, 1);
}
.block-color-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.block-color-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.block-color-red_background {
	background: rgba(253, 235, 236, 1);
}
.select-value-color-interactiveBlue { background-color: rgba(35, 131, 226, .07); }
.select-value-color-pink { background-color: rgba(245, 224, 233, 1); }
.select-value-color-purple { background-color: rgba(232, 222, 238, 1); }
.select-value-color-green { background-color: rgba(219, 237, 219, 1); }
.select-value-color-gray { background-color: rgba(227, 226, 224, 1); }
.select-value-color-translucentGray { background-color: rgba(255, 255, 255, 0.0375); }
.select-value-color-orange { background-color: rgba(250, 222, 201, 1); }
.select-value-color-brown { background-color: rgba(238, 224, 218, 1); }
.select-value-color-red { background-color: rgba(255, 226, 221, 1); }
.select-value-color-yellow { background-color: rgba(253, 236, 200, 1); }
.select-value-color-blue { background-color: rgba(211, 229, 239, 1); }
.select-value-color-pageGlass { background-color: undefined; }
.select-value-color-washGlass { background-color: undefined; }

.checkbox {
	display: inline-flex;
	vertical-align: text-bottom;
	width: 16;
	height: 16;
	background-size: 16px;
	margin-left: 2px;
	margin-right: 5px;
}

.checkbox-on {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%2358A9D7%22%2F%3E%0A%3Cpath%20d%3D%22M6.71429%2012.2852L14%204.9995L12.7143%203.71436L6.71429%209.71378L3.28571%206.2831L2%207.57092L6.71429%2012.2852Z%22%20fill%3D%22white%22%2F%3E%0A%3C%2Fsvg%3E");
}

.checkbox-off {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20x%3D%220.75%22%20y%3D%220.75%22%20width%3D%2214.5%22%20height%3D%2214.5%22%20fill%3D%22white%22%20stroke%3D%22%2336352F%22%20stroke-width%3D%221.5%22%2F%3E%0A%3C%2Fsvg%3E");
}
	
</style></head><body><article id="f8548c99-78c6-4ac6-92d2-0e8e70f7f022" class="page sans"><header><h1 class="page-title">CodeBuild</h1><p class="page-description"></p></header><div class="page-body"><nav id="92972967-8ce9-4805-b953-0a3a728be470" class="block-color-gray table_of_contents"><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#219f30d9-f611-4e87-983f-53444c606d60">Intro</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#08edc4b0-1483-453e-bc39-827da2a172c8">Build flow</a></div><div class="table_of_contents-item table_of_contents-indent-0"><a class="table_of_contents-link" href="#dd6157f0-682a-41d6-ad21-3089a14bce22"><code>buildspec.yaml</code></a></div></nav><hr id="4dc06ef3-9c37-40b6-b809-6766488cc45f"/><h2 id="219f30d9-f611-4e87-983f-53444c606d60" class="">Intro</h2><ul id="fdc1832d-e94b-4300-98c7-a97ef9b19ee8" class="bulleted-list"><li style="list-style-type:disc"><strong>AWS managed CI server for building and testing code</strong></li></ul><ul id="58c4a035-3a4d-4caa-a3d7-b0c9c418dec5" class="bulleted-list"><li style="list-style-type:disc">Build instructions are provided in <strong><code>buildspec.yaml</code></strong> <strong>present in the root of the repo</strong></li></ul><ul id="2f8c35bc-8f51-4451-961e-8ad46503976a" class="bulleted-list"><li style="list-style-type:disc">Build logs can be stored in S3 or CloudWatch</li></ul><ul id="8517fbbf-e44a-4a04-a463-2b4807ac7103" class="bulleted-list"><li style="list-style-type:disc">CW Metrics can be used to monitor build statistics and CW Events to detect failed builds</li></ul><ul id="58f1f709-7ce5-4ca3-bf35-f5b6fbf15fb1" class="bulleted-list"><li style="list-style-type:disc">Build projects can be defined in CodeBuild or CodePipeline </li></ul><ul id="4714a902-ca1d-4f9e-a2af-8159f40f6682" class="toggle"><li><details open=""><summary>Supported environment</summary><ul id="e9f4f7e5-3568-49f2-bd66-61709c924f20" class="bulleted-list"><li style="list-style-type:disc">Java</li></ul><ul id="f208f10b-7fad-4752-ad1c-0b593ecd05d0" class="bulleted-list"><li style="list-style-type:disc">Ruby</li></ul><ul id="8d6f61a4-e9f6-4792-85bd-21e8acdca292" class="bulleted-list"><li style="list-style-type:disc">Python</li></ul><ul id="e4ec0c0b-8e0d-4838-806c-b1e6e42322be" class="bulleted-list"><li style="list-style-type:disc">Go</li></ul><ul id="f686a326-9791-44fc-a0ea-94b980687507" class="bulleted-list"><li style="list-style-type:disc">Node.js</li></ul><ul id="87b1e46a-fcae-452b-a73d-d73f38d8907f" class="bulleted-list"><li style="list-style-type:disc">Android</li></ul><ul id="a37bf120-7261-4f02-acaf-d409a1711e50" class="bulleted-list"><li style="list-style-type:disc">.NET Core</li></ul><ul id="c5bce4d0-d51e-4325-8a38-3d9437df4b74" class="bulleted-list"><li style="list-style-type:disc">PHP</li></ul><ul id="04210d25-7c08-4302-ba79-bf5e9890232e" class="bulleted-list"><li style="list-style-type:disc">Docker - to extend further</li></ul></details></li></ul><ul id="1ad41b59-78d6-4a3c-97c8-3215e73ac5be" class="bulleted-list"><li style="list-style-type:disc"><strong>CodeBuild can be run locally</strong> (requires Docker) using <strong>CodeBuild Agent</strong> for troubleshooting purposes.</li></ul><ul id="3ee52410-c426-4824-bf3f-c588d2948546" class="bulleted-list"><li style="list-style-type:disc"><strong>By default, your CodeBuild containers are launched outside the VPC.</strong> It cannot access resources within the VPC. <mark class="highlight-yellow_background">When creating a CodeBuild project, we can specify the VPC where it should be launched.</mark> This way, the CodeBuild project can access resources within the VPC.</li></ul><ul id="8d45075e-cafa-43e1-b7e2-1e84d3ea1732" class="bulleted-list"><li style="list-style-type:disc">CodeBuild creates a Docker container as the building or testing environment.</li></ul><ul id="b8da4379-e74b-4647-97c1-5051c3e8ed0c" class="bulleted-list"><li style="list-style-type:disc">CodeBuild projects can be added as stages in <a href="CodePipeline%20a259f114ddc54249a9f174aaddd20eb1.html">CodePipeline</a>.  </li></ul><ul id="bcd368e8-cef7-4995-8420-fdd92a0b4a5f" class="bulleted-list"><li style="list-style-type:disc"><mark class="highlight-yellow_background">CodeBuild containers are deleted at the end of their execution (success or failure). You can&#x27;t SSH into them, even while they&#x27;re running. </mark></li></ul><ul id="52f6dbba-3ade-4766-b18e-dd1573af77e9" class="bulleted-list"><li style="list-style-type:disc"><strong>CodeBuild scales automatically</strong> to meet peak build requests. <mark class="highlight-yellow_background">CodeBuild eliminates the need to provision, manage, and scale your own build servers</mark>.</li></ul><figure class="block-color-teal_background callout" style="white-space:pre-wrap;display:flex" id="870ae3df-f563-4ff4-9d50-52e2e8759abb"><div style="font-size:1.5em"><span class="icon">ðŸ’¡</span></div><div style="width:100%">CodePipeline and CodeBuild can be combined to build a single page application from MD files and copy the static files to an S3 bucket. This is because CodeBuild can run any commands, so you can use it to run commands including build a static website and copy your static web files to an S3 bucket; and CodePipeline will help make it into a pipeline.</div></figure><h2 id="08edc4b0-1483-453e-bc39-827da2a172c8" class="">Build flow</h2><p id="1540d570-6409-48e0-9597-70313e41deea" class="">Based on the environment (language), CodeBuild pulls an <strong>AWS pre-packaged Docker image</strong> or a custom image provided by us to build the source code into an artifact based on the instructions provided in <code>buildspec.yaml</code>. <strong>CodeBuild can cache some files (eg. dependencies) in an S3 bucket to share between builds in order to speed up future builds.</strong> The artifact created by the build stage is extracted out of the container and stored in the S3 bucket.</p><figure id="037d5de5-8c02-401c-8c84-9954e74df523" class="image"><a href="CodeBuild%20f8548c9978c64ac692d20e8e70f7f022/Untitled.png"><img style="width:1526px" src="CodeBuild%20f8548c9978c64ac692d20e8e70f7f022/Untitled.png"/></a></figure><h2 id="dd6157f0-682a-41d6-ad21-3089a14bce22" class=""><code>buildspec.yaml</code></h2><div id="9be52006-f7af-4bc8-8075-2113c02e115d" class="column-list"><div id="d96b1b2e-b351-4743-bba3-d95306e98e2b" style="width:50%" class="column"><ul id="3f8b4c46-6386-4169-be10-c1536ad789f0" class="bulleted-list"><li style="list-style-type:disc">Must be present at the root of repo</li></ul><ul id="8b76c1d7-a0aa-4255-a406-51b4a299e1d6" class="bulleted-list"><li style="list-style-type:disc"><code>env</code> - environment variables<ul id="8f26bcc3-4d00-4071-95ac-8c78b93c9ff0" class="bulleted-list"><li style="list-style-type:circle">plain-text variables defined in the yaml file</li></ul><ul id="5cbe80ce-5815-4872-9ff3-5955398ab4f3" class="bulleted-list"><li style="list-style-type:circle">parameter store</li></ul><ul id="0d19ca74-a216-4cce-83f3-27a97edbff5c" class="bulleted-list"><li style="list-style-type:circle">secrets manager</li></ul></li></ul><ul id="1aa99139-27b9-4839-a3a7-b62a75639c9d" class="bulleted-list"><li style="list-style-type:disc"><code>phases</code> - specify commands to run:<ul id="9e8a3ffa-e476-4323-934d-987e45bae17b" class="bulleted-list"><li style="list-style-type:circle"><code>install</code> - install dependencies needed for building</li></ul><ul id="0ad87e16-8d93-4d73-98b9-a7d49cbd9061" class="bulleted-list"><li style="list-style-type:circle"><code>pre_build</code> - commands to execute before build</li></ul><ul id="0feca92c-86ce-4246-9097-e48c16888228" class="bulleted-list"><li style="list-style-type:circle"><code>build</code> - build commands</li></ul><ul id="374df3ce-a00f-4a1d-8f6c-dfd4ac647967" class="bulleted-list"><li style="list-style-type:circle"><code>post_build</code> - post build commands (eg. push Docker image to repo, zip build files)</li></ul></li></ul><ul id="4afa2322-3491-466c-98eb-3c0d78827716" class="bulleted-list"><li style="list-style-type:disc"><code>artifacts</code> - which file to upload to S3 as artifact (encrypted with KMS)</li></ul><ul id="0ea52179-85d9-4412-b8fc-da74772a9194" class="bulleted-list"><li style="list-style-type:disc"><code>cache</code> - files to cache (usually dependencies) to S3 to speed up future builds</li></ul></div><div id="76b4a143-76c0-42b5-b064-1926bc3764d7" style="width:50%" class="column"><figure id="6cfd27aa-997e-4d48-aa33-f54eb2f49812" class="image"><a href="CodeBuild%20f8548c9978c64ac692d20e8e70f7f022/Untitled%201.png"><img style="width:524px" src="CodeBuild%20f8548c9978c64ac692d20e8e70f7f022/Untitled%201.png"/></a></figure></div></div><p id="a80f088e-8717-40d3-918c-114c4770a390" class="">
</p></div></article></body></html>